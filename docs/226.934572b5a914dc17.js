"use strict";(self.webpackChunke_commerce_client=self.webpackChunke_commerce_client||[]).push([[226],{1226:(x,_,i)=>{i.r(_),i.d(_,{ProductDetailPageComponent:()=>r});var l=i(6895),d=i(4859),p=i(4850),u=i(3327),g=i(6958),P=i(1757),h=i(7124),t=i(4650),C=i(3060),m=i(6082),v=i(910),E=i(4465);const D=function(){return{display:"flex",alignItems:"baseline"}},M=function(){return{marginLeft:"20px"}};function O(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"div",3),t._UZ(1,"img",4),t.TgZ(2,"div",5)(3,"h1"),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9,"Availability: Yes"),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"star",6),t.NdJ("onRatingChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.setRating(o))}),t.qZA(),t.TgZ(12,"p",7),t._uU(13),t.qZA(),t._UZ(14,"br")(15,"mat-divider")(16,"br"),t.TgZ(17,"div")(18,"quant-select",8),t.NdJ("onClick",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.setQuantitySelect(o))}),t.qZA(),t.TgZ(19,"div")(20,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onAddClick())}),t._uU(21," Add to cart "),t.qZA()()(),t._UZ(22,"br")(23,"mat-divider")(24,"br"),t.TgZ(25,"p"),t._uU(26),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.s9C("src",e.product.photoUrl,t.LSH),t.xp6(3),t.Oqu(e.product.name),t.xp6(3),t.hij("Item #",e.product.id,""),t.xp6(4),t.Q6J("rating",e.product.rating)("isReadOnly",!1),t.xp6(2),t.hij("$",e.product.price,""),t.xp6(4),t.Akn(t.DdM(12,D)),t.xp6(1),t.Q6J("quant",e.quantity),t.xp6(1),t.Akn(t.DdM(13,M)),t.xp6(7),t.Oqu(e.product.description)}}class r{constructor(n,e,c,o){this.route=n,this.productServices=e,this.cartServices=c,this.toastServices=o,this.id=this.route.snapshot.paramMap.get("id"),this.quantity=1,this.getProduct()}getProduct(){this.productServices.getProductById(this.id).subscribe({next:n=>{this.product=n,this.productServices.updatePhotoUrl(this.product)},error:n=>{console.error(n)}})}setQuantitySelect(n){this.quantity=n}onAddClick(){this.cartServices.addProduct({product:this.product,quantity:this.quantity}),this.toastServices.showToast(`${this.quantity} ${this.product.name}(s) added to your cart`,u.pC.SUCCESS),this.setQuantitySelect(1)}setRating(n){this.productServices.updateProduct(this.id,{rating:n}).subscribe({next:e=>{this.toastServices.showToast(`Successfully rated ${e.name}`,u.pC.SUCCESS)},error:e=>{console.log(e)}})}}r.\u0275fac=function(n){return new(n||r)(t.Y36(C.gz),t.Y36(m.o),t.Y36(v.U),t.Y36(E.j))},r.\u0275cmp=t.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[1,"route-container"],[3,"isDisplayed"],["id","product-detail-page-container",4,"ngIf"],["id","product-detail-page-container"],[3,"src"],["id","product-detail-container"],[3,"rating","isReadOnly","onRatingChange"],["id","price"],[3,"quant","onClick"],["mat-flat-button","","color","primary",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"spinner",1),t.YNc(2,O,27,14,"div",2),t.qZA()),2&n&&(t.xp6(1),t.Q6J("isDisplayed",!e.product),t.xp6(1),t.Q6J("ngIf",e.product))},dependencies:[d.ot,d.lW,l.O5,h.u,g.r,p.t,p.d,P.O],styles:["#product-detail-page-container[_ngcontent-%COMP%]{display:flex;font-weight:200;padding-top:20px}h1[_ngcontent-%COMP%]{font-size:45px;font-weight:300}img[_ngcontent-%COMP%]{width:500px;margin-right:100px}#price[_ngcontent-%COMP%]{font-size:24px;font-weight:400px}p[_ngcontent-%COMP%]{font-size:18px;font-weight:200px}"]})}}]);