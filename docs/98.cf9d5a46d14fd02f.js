"use strict";(self.webpackChunke_commerce_client=self.webpackChunke_commerce_client||[]).push([[98],{8098:(F,l,e)=>{e.r(l),e.d(l,{ProductsPageComponent:()=>s});var f=e(1757),d=e(4006),a=e(782),p=e(4850),v=e(3327),C=e(6958),P=e(7124),x=e(8869),g=e(4859),t=e(4650),Z=e(910),y=e(4465);const m=function(i){return["/products",i]};class r{constructor(o,n){this.cartService=o,this.toastService=n,this.quantity=1}onAddClick(){this.cartService.addProduct({product:this.product,quantity:this.quantity}),this.toastService.showToast(`${this.quantity} ${this.product.name}(s) added to your cart`,v.pC.SUCCESS),this.setQuantitySelect(1)}setQuantitySelect(o){this.quantity=o}}r.\u0275fac=function(o){return new(o||r)(t.Y36(Z.U),t.Y36(y.j))},r.\u0275cmp=t.Xpm({type:r,selectors:[["pb-root"]],inputs:{product:"product"},standalone:!0,features:[t.jDz],decls:20,vars:12,consts:[["id","product-box"],[3,"routerLink"],[3,"src"],[2,"font-weight","600"],[3,"rating"],[2,"font-weight","200"],["id","quant-container"],[2,"display","inline-block"],[3,"quant","onClick"],[1,"but-container"],["mat-flat-button","","color","primary",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"a",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"a",1)(4,"h3",3),t._uU(5),t.qZA()(),t._UZ(6,"mat-divider")(7,"star",4),t.TgZ(8,"h4",5),t._uU(9),t.qZA(),t.TgZ(10,"h4"),t._uU(11),t.qZA(),t.TgZ(12,"div",6)(13,"p",7),t._uU(14,"Quantity"),t.qZA(),t.TgZ(15,"quant-select",8),t.NdJ("onClick",function(c){return n.setQuantitySelect(c)}),t.qZA()(),t._UZ(16,"mat-divider"),t.TgZ(17,"div",9)(18,"button",10),t.NdJ("click",function(){return n.onAddClick()}),t._uU(19," Add to cart "),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.VKq(8,m,n.product.id)),t.xp6(1),t.s9C("src",n.product.photoUrl,t.LSH),t.xp6(1),t.Q6J("routerLink",t.VKq(10,m,n.product.id)),t.xp6(2),t.Oqu(n.product.name),t.xp6(2),t.Q6J("rating",n.product.rating),t.xp6(2),t.hij("Item #",n.product.id,""),t.xp6(2),t.hij("$",n.product.price,""),t.xp6(4),t.Q6J("quant",n.quantity))},dependencies:[p.t,p.d,C.r,P.u,x.rH,g.ot,g.lW],styles:["#product-box[_ngcontent-%COMP%]{border:2px solid rgb(255,227,166);padding:20px;height:550px;width:250px}img[_ngcontent-%COMP%]{display:block;width:200px;height:15em}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#d3d3d3;cursor:pointer}.but-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1em}#quant-container[_ngcontent-%COMP%]{position:relative;font-size:larger;margin-bottom:20px}quant-select[_ngcontent-%COMP%]{margin-left:50px}"]});var h=e(6895),T=e(9549),J=e(6754);function S(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-grid-tile"),t._UZ(2,"pb-root",7),t.qZA(),t.BQk()),2&i){const n=o.$implicit;t.xp6(2),t.Q6J("product",n)}}function U(i,o){if(1&i){const n=t.EpF();t.TgZ(0,"div")(1,"div",3)(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"label"),t._uU(5,"Filter: "),t.TgZ(6,"input",4),t.NdJ("ngModelChange",function(c){t.CHM(n);const A=t.oxw();return t.KtG(A.nameFilter=c)}),t.qZA()()(),t.TgZ(7,"mat-grid-list",5),t.YNc(8,S,3,1,"ng-container",6),t.qZA()()}if(2&i){const n=t.oxw();t.xp6(3),t.hij("",n.filteredProducts.length," RESULTS"),t.xp6(3),t.Q6J("ngModel",n.nameFilter),t.xp6(1),t.Q6J("cols",n.cols),t.xp6(1),t.Q6J("ngForOf",n.filteredProducts)}}class s{constructor(o){this.productServices=o,this._nameFilter="",this.products=this.productServices.products,this.filteredProducts=this.products}ngOnInit(){this.onResize(),this.productServices.getProducts()}get nameFilter(){return this._nameFilter}set nameFilter(o){this._nameFilter=o,this.filteredProducts=this.products.filter(n=>n.name.toLowerCase().includes(o.toLowerCase()))}onResize(){this.cols=Math.floor(.9*innerWidth/270)}}s.\u0275fac=function(o){return new(o||s)(t.Y36(J.o))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],hostBindings:function(o,n){1&o&&t.NdJ("resize",function(c){return n.onResize(c)},!1,t.Jf7)},standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[["id","product-page",1,"route-container"],[3,"isDisplayed"],[4,"ngIf"],["id","above-list"],["matInput","","type","text","name","filter",3,"ngModel","ngModelChange"],["rowHeight","580px",3,"cols"],[4,"ngFor","ngForOf"],[3,"product"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"spinner",1),t.YNc(2,U,9,4,"div",2),t.qZA()),2&o&&(t.xp6(1),t.Q6J("isDisplayed",0==n.products.length),t.xp6(1),t.Q6J("ngIf",n.products.length>0))},dependencies:[f.O,d.u5,d.Fj,d.JJ,d.On,a.N6,a.Il,a.DX,r,h.O5,h.ax,T.lN],styles:["mat-grid-list[_ngcontent-%COMP%]{width:90%;margin:auto}#above-list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:90%;margin:auto;padding:10px}"]})}}]);