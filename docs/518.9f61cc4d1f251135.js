"use strict";(self.webpackChunke_commerce_client=self.webpackChunke_commerce_client||[]).push([[518],{5518:(_,g,o)=>{o.r(g),o.d(g,{CartComponent:()=>C});var n=o(3327),a=o(8176),u=o(1757),d=o(6895),l=o(4850),t=o(4650),p=o(6958),c=o(910),v=o(6754);function P(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"img",2),t.TgZ(2,"div",3)(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"div",4)(10,"div",5)(11,"quant-select",6),t.NdJ("onClick",function(s){t.CHM(e);const f=t.oxw();return t.KtG(f.setQuantitySelect(s))}),t.qZA(),t.TgZ(12,"i",7),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onRemoveClick())}),t.qZA()(),t.TgZ(13,"p",8),t._uU(14),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(1),t.s9C("src",e.selectedProduct.product.photoUrl,t.LSH),t.xp6(3),t.Oqu(e.selectedProduct.product.name),t.xp6(2),t.hij("Item #",e.selectedProduct.product.id,""),t.xp6(2),t.hij("$",e.selectedProduct.product.price,""),t.xp6(3),t.Q6J("quant",e.selectedProduct.quantity),t.xp6(3),t.hij("$",e.selectedProduct.quantity*e.selectedProduct.product.price,"")}}class h{constructor(i,e){this.cartServices=i,this.productServices=e,this.onRemove=new t.vpe,this.quantityOptions=Array.from({length:10},(m,s)=>s+1)}onRemoveClick(){this.onRemove.emit(this.selectedProduct.product)}setQuantitySelect(i){this.selectedProduct.quantity=i,this.cartServices.saveSelectedProductsToLocal()}}h.\u0275fac=function(i){return new(i||h)(t.Y36(c.U),t.Y36(v.o))},h.\u0275cmp=t.Xpm({type:h,selectors:[["cart-product"]],inputs:{selectedProduct:"selectedProduct"},outputs:{onRemove:"onRemove"},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["id","cart-product-container",4,"ngIf"],["id","cart-product-container"],[3,"src"],["id","detail-container"],[2,"display","flex","position","relative","align-items","center"],[2,"display","flex","position","relative","align-items","center","width","90%"],[3,"quant","onClick"],[1,"bi","bi-trash2",3,"click"],[2,"position","relative","margin-top","auto","margin-bottom","auto","display","inline-block","width","10%","text-align","end"]],template:function(i,e){1&i&&t.YNc(0,P,15,6,"div",0),2&i&&t.Q6J("ngIf",e.selectedProduct)},dependencies:[d.O5,p.r],styles:["#cart-product-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;height:200px;padding:10px;border-bottom:.5px rgb(196,196,196) solid}img[_ngcontent-%COMP%]{position:relative;height:100%}#detail-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;margin-left:10px}#detail-container[_ngcontent-%COMP%]:nth-child(1){font-weight:600;font-size:larger}i[_ngcontent-%COMP%]{display:inline-block;font-size:30px;margin-left:20px}i[_ngcontent-%COMP%]:hover{cursor:pointer}"]});var x=o(4859),S=o(8869),y=o(4465),M=o(4466),T=o(6105);function O(r,i){1&r&&(t.TgZ(0,"h1"),t._uU(1," Your cart is empty. Click "),t.TgZ(2,"a",4),t._uU(3,"here"),t.qZA(),t._uU(4," to go back to Products page. "),t.qZA())}function Z(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"cart-product",12),t.NdJ("onRemove",function(s){t.CHM(e);const f=t.oxw(2);return t.KtG(f.onRemoveClick(s))}),t.qZA()()}if(2&r){const e=i.$implicit;t.xp6(1),t.Q6J("selectedProduct",e)}}function b(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h1"),t._uU(3," Your Cart "),t.TgZ(4,"h2",7),t._uU(5),t.qZA()(),t._UZ(6,"mat-divider"),t.YNc(7,Z,2,1,"div",8),t.qZA(),t.TgZ(8,"div",9)(9,"h2"),t._uU(10,"Order Summary"),t.qZA(),t.TgZ(11,"h4"),t._uU(12," Subtotal "),t.TgZ(13,"div",10),t._uU(14),t.qZA()(),t.TgZ(15,"h4"),t._uU(16," Estimated Shipping "),t.TgZ(17,"div",10),t._uU(18,"$9.95"),t.qZA()(),t.TgZ(19,"h4"),t._uU(20," Estimated Total "),t.TgZ(21,"div",10),t._uU(22),t.qZA()(),t.TgZ(23,"button",11),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onCheckoutClick())}),t._uU(24," Checkout "),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(5),t.hij(" (",e.cartServices.countProducts()," items) "),t.xp6(2),t.Q6J("ngForOf",e.cartServices.selectedProducts),t.xp6(7),t.hij("$",e.cartServices.getSubtotal(),""),t.xp6(8),t.hij("$",e.cartServices.getSubtotal()+9.95,""),t.xp6(1),t.Q6J("disabled",e.orderServices.isOrderSubmitting())}}class C{constructor(i,e,m,s){this.cartServices=i,this.toastServices=e,this.orderServices=m,this.loginServices=s}onRemoveClick(i){this.cartServices.removeProduct(i.id),this.toastServices.showToast(`${i.name} removed from your cart`,n.pC.SUCCESS)}onCheckoutClick(){this.loginServices.hasLoggedIn()?(this.orderServices.setOrderState(n.Kq.SUBMITTING),this.orderServices.createOrder().subscribe({next:({url:i})=>{this.orderServices.setOrderState(n.Kq.SUBMITTED),this.toastServices.showToast("Thank you for placing an order with us!",n.pC.SUCCESS).onHidden.subscribe({next:()=>{(0,a.gB)(i)}})},error:i=>{this.orderServices.setOrderState(n.Kq.NOT_SUBMIITED),console.log(i)}})):this.toastServices.showToast("You need to login to place orders.",n.pC.WARNING)}onRemoveAllClick(){this.cartServices.removeAllProducts(),this.toastServices.showToast("All products have been removed from your cart",n.pC.SUCCESS)}}C.\u0275fac=function(i){return new(i||C)(t.Y36(c.U),t.Y36(y.j),t.Y36(M.r),t.Y36(T.J))},C.\u0275cmp=t.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:4,vars:3,consts:[[1,"route-container"],[3,"isDisplayed"],[4,"ngIf"],["style","display: flex; align-items: flex-start",4,"ngIf"],["routerLink","/products"],[2,"display","flex","align-items","flex-start"],[2,"display","inline-block","width","70%"],[2,"display","inline","font-weight","lighter"],[4,"ngFor","ngForOf"],["id","os-container"],[1,"prices"],["mat-raised-button","",3,"disabled","click"],[3,"selectedProduct","onRemove"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"spinner",1),t.YNc(2,O,5,0,"h1",2),t.YNc(3,b,25,5,"div",3),t.qZA()),2&i&&(t.xp6(1),t.Q6J("isDisplayed",e.orderServices.isOrderSubmitting()),t.xp6(1),t.Q6J("ngIf",0==e.cartServices.selectedProducts.length),t.xp6(1),t.Q6J("ngIf",e.cartServices.selectedProducts.length>0))},dependencies:[u.O,d.ax,d.O5,l.t,l.d,h,x.ot,x.lW,S.rH],styles:[".route-container[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:100px auto auto;text-align:center;font-weight:200}button[_ngcontent-%COMP%]{width:100%}#os-container[_ngcontent-%COMP%]{background-color:#f0f0f080;border-radius:10%;display:inline-block;margin-left:20px;padding:20px;width:30%}h4[_ngcontent-%COMP%]{padding:auto}a[_ngcontent-%COMP%]{text-decoration:underline;color:#00f}.prices[_ngcontent-%COMP%]{display:inline;float:right}"]})},6958:(_,g,o)=>{o.d(g,{r:()=>a});var n=o(4650);class a{constructor(){this.onClick=new n.vpe}onIncrementClick(){this.onClick.emit(this.quant+1)}onDecrementClick(){this.quant>1&&this.onClick.emit(this.quant-1)}}a.\u0275fac=function(d){return new(d||a)},a.\u0275cmp=n.Xpm({type:a,selectors:[["quant-select"]],inputs:{quant:"quant"},outputs:{onClick:"onClick"},standalone:!0,features:[n.jDz],decls:6,vars:1,consts:[["id","quant-select-container"],["id","left",3,"click"],["readonly","",3,"value"],["id","right",3,"click"]],template:function(d,l){1&d&&(n.TgZ(0,"div",0)(1,"button",1),n.NdJ("click",function(){return l.onDecrementClick()}),n._uU(2,"-"),n.qZA(),n._UZ(3,"input",2),n.TgZ(4,"button",3),n.NdJ("click",function(){return l.onIncrementClick()}),n._uU(5,"+"),n.qZA()()),2&d&&(n.xp6(3),n.s9C("value",l.quant))},styles:["#quant-select-container[_ngcontent-%COMP%]{position:relative;display:flex;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;margin-left:auto;margin-right:auto}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:50px;height:50px}input[_ngcontent-%COMP%]{border-left:none;border-right:none;border-bottom:solid;border-top:solid;border-width:.5px;text-align:center;margin-left:-25px;margin-right:-25px;z-index:2}input[_ngcontent-%COMP%]:focus{outline:none}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}button[_ngcontent-%COMP%]{border:1px solid black;border-radius:50%;background-color:#fff;padding:10px}#left[_ngcontent-%COMP%]{text-align:left;font-weight:600}#right[_ngcontent-%COMP%]{text-align:right}"]})},4850:(_,g,o)=>{o.d(g,{d:()=>d,t:()=>l});var n=o(4650),a=o(1281),u=o(3238);let d=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(c){this._vertical=(0,a.Ig)(c)}get inset(){return this._inset}set inset(c){this._inset=(0,a.Ig)(c)}}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(c,v){2&c&&(n.uIk("aria-orientation",v.vertical?"vertical":"horizontal"),n.ekj("mat-divider-vertical",v.vertical)("mat-divider-horizontal",!v.vertical)("mat-divider-inset",v.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(c,v){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),t})(),l=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[u.BQ,u.BQ]}),t})()}}]);