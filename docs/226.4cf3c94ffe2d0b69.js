"use strict";(self.webpackChunke_commerce_client=self.webpackChunke_commerce_client||[]).push([[226],{1226:(O,_,i)=>{i.r(_),i.d(_,{ProductDetailPageComponent:()=>r});var l=i(6895),d=i(4859),u=i(4850),p=i(3327),g=i(6958),P=i(7124),t=i(4650),h=i(3060),C=i(6082),m=i(910),v=i(4465);const E=function(){return{display:"flex",alignItems:"baseline"}},M=function(){return{marginLeft:"20px"}};function D(c,n){if(1&c){const e=t.EpF();t.TgZ(0,"div",2),t._UZ(1,"img",3),t.TgZ(2,"div",4)(3,"h1"),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9,"Availability: Yes"),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"star",5),t.NdJ("onRatingChange",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.setRating(o))}),t.qZA(),t.TgZ(12,"p",6),t._uU(13),t.qZA(),t._UZ(14,"br")(15,"mat-divider")(16,"br"),t.TgZ(17,"div")(18,"quant-select",7),t.NdJ("onClick",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.setQuantitySelect(o))}),t.qZA(),t.TgZ(19,"div")(20,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onAddClick())}),t._uU(21," Add to cart "),t.qZA()()(),t._UZ(22,"br")(23,"mat-divider")(24,"br"),t.TgZ(25,"p",9),t._uU(26),t.qZA()()()}if(2&c){const e=t.oxw();t.xp6(1),t.s9C("src",e.product.photoUrl,t.LSH),t.xp6(3),t.Oqu(e.product.name),t.xp6(3),t.hij("Item #",e.product.id,""),t.xp6(4),t.Q6J("rating",e.product.rating)("isReadOnly",!1),t.xp6(2),t.hij("$",e.product.price,""),t.xp6(4),t.Akn(t.DdM(12,E)),t.xp6(1),t.Q6J("quant",e.quantity),t.xp6(1),t.Akn(t.DdM(13,M)),t.xp6(7),t.Oqu(e.product.description)}}class r{constructor(n,e,a,o){this.route=n,this.productServices=e,this.cartServices=a,this.toastServices=o,this.id=this.route.snapshot.paramMap.get("id"),this.quantity=1,this.getProduct()}getProduct(){this.productServices.getProductById(this.id).subscribe({next:n=>{this.product=n},error:n=>{console.error(n)}})}setQuantitySelect(n){this.quantity+=n}onAddClick(){this.cartServices.addProduct({product:this.product,quantity:this.quantity}),this.toastServices.showToast(`${this.quantity} ${this.product.name}(s) added to your cart`,p.pC.SUCCESS),this.setQuantitySelect(1)}setRating(n){this.productServices.updateProduct(this.id,{rating:n}).subscribe({next:e=>{this.toastServices.showToast(`Successfully rated ${e.name}`,p.pC.SUCCESS)},error:e=>{console.log(e)}})}}r.\u0275fac=function(n){return new(n||r)(t.Y36(h.gz),t.Y36(C.o),t.Y36(m.N),t.Y36(v.j))},r.\u0275cmp=t.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"route-container"],["id","product-detail-page-container",4,"ngIf"],["id","product-detail-page-container"],[3,"src"],["id","product-detail-container"],[3,"rating","isReadOnly","onRatingChange"],["id","price"],[3,"quant","onClick"],["mat-flat-button","","color","primary",3,"click"],["id","description"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,D,27,14,"div",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",e.product))},dependencies:[d.ot,d.lW,l.O5,P.u,g.r,u.t,u.d],styles:["#product-detail-page-container[_ngcontent-%COMP%]{display:flex;font-weight:200;padding-top:20px}h1[_ngcontent-%COMP%]{font-size:45px;font-weight:300}img[_ngcontent-%COMP%]{width:500px;margin-right:100px}#price[_ngcontent-%COMP%]{font-size:24px;font-weight:400px}p[_ngcontent-%COMP%]{font-size:18px;font-weight:200px}#description[_ngcontent-%COMP%]{line-height:1.5em}"]})}}]);