"use strict";(self.webpackChunke_commerce_client=self.webpackChunke_commerce_client||[]).push([[248],{5455:(O,y,s)=>{s.r(y),s.d(y,{ConfirmationPageComponent:()=>f});var l=s(6895),e=s(1757),r=s(4650);function h(p,c){if(1&p&&(r.TgZ(0,"div",1),r._UZ(1,"img",2),r.TgZ(2,"div",3)(3,"div",4)(4,"p",5),r._uU(5),r.qZA(),r.TgZ(6,"p"),r._uU(7),r.qZA(),r.TgZ(8,"p"),r._uU(9),r.qZA(),r.TgZ(10,"p"),r._uU(11),r.qZA()(),r.TgZ(12,"p",6),r._uU(13),r.qZA()()()),2&p){const i=r.oxw();r.xp6(1),r.s9C("src",i.orderedProduct.product.photoUrl,r.LSH),r.xp6(4),r.hij(" ",i.orderedProduct.product.name," "),r.xp6(2),r.hij("Item #",i.orderedProduct.product.id,""),r.xp6(2),r.hij("Price: $",i.orderedProduct.product.price,""),r.xp6(2),r.hij("Quantity: ",i.orderedProduct.quantity,""),r.xp6(2),r.hij(" Total: $",i.orderedProduct.quantity*i.orderedProduct.product.price," ")}}class u{}u.\u0275fac=function(c){return new(c||u)},u.\u0275cmp=r.Xpm({type:u,selectors:[["confirmation-product"]],inputs:{orderedProduct:"orderedProduct"},standalone:!0,features:[r.jDz],decls:1,vars:1,consts:[["id","confirmation-product",4,"ngIf"],["id","confirmation-product"],[3,"src"],["id","detail-container"],[2,"text-align","left"],[2,"font-weight","600","font-size","larger"],[2,"position","relative","margin-top","auto","margin-bottom","auto","display","inline-block"]],template:function(c,i){1&c&&r.YNc(0,h,14,6,"div",0),2&c&&r.Q6J("ngIf",i.orderedProduct)},dependencies:[l.O5],styles:["#confirmation-product[_ngcontent-%COMP%]{position:relative;display:flex;height:200px;border-bottom:.5px rgb(196,196,196) solid}img[_ngcontent-%COMP%]{position:relative;height:150px}#detail-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;margin-left:10px;text-align:right}i[_ngcontent-%COMP%]{display:inline-block;font-size:30px;margin-left:20px}i[_ngcontent-%COMP%]:hover{cursor:pointer}"]});var g=s(910),x=s(4466),o=s(3060);function _(p,c){if(1&p&&(r.TgZ(0,"div",8),r._UZ(1,"confirmation-product",9),r.qZA()),2&p){const i=c.$implicit;r.xp6(1),r.Q6J("orderedProduct",i)}}const P=function(){return{textAlign:"center",marginTop:"50px"}};function b(p,c){if(1&p&&(r.TgZ(0,"div")(1,"div")(2,"h1"),r._uU(3,"Thank you for shopping with us!"),r.qZA(),r.TgZ(4,"h2"),r._uU(5,"Here is a summary of your order"),r.qZA(),r.TgZ(6,"div",3),r.YNc(7,_,2,1,"div",4),r.TgZ(8,"div",5)(9,"ul",6)(10,"li"),r._uU(11,"Subtotal:"),r.qZA(),r.TgZ(12,"li"),r._uU(13,"Shipping:"),r.qZA(),r.TgZ(14,"li"),r._uU(15),r.qZA(),r.TgZ(16,"li"),r._uU(17,"Total charge:"),r.qZA()(),r.TgZ(18,"ul",7)(19,"li"),r._uU(20),r.qZA(),r.TgZ(21,"li"),r._uU(22),r.qZA(),r.TgZ(23,"li"),r._uU(24),r.qZA(),r.TgZ(25,"li"),r._uU(26),r.qZA()()()()()()),2&p){const i=r.oxw();r.xp6(1),r.Akn(r.DdM(8,P)),r.xp6(6),r.Q6J("ngForOf",i.confirmedOrder.orderedProducts),r.xp6(8),r.hij("Tax (",i.confirmedOrder.tax,"%)"),r.xp6(5),r.hij("$",i.confirmedOrder.subtotal,""),r.xp6(2),r.Oqu(i.confirmedOrder.shippingFee),r.xp6(2),r.hij("$",i.confirmedOrder.taxFee,""),r.xp6(2),r.hij("$",i.confirmedOrder.totalCharge,"")}}class f{constructor(c,i,v){this.cartServices=c,this.orderServices=i,this.route=v,this.orderId=""}ngOnInit(){this.orderId=this.route.snapshot.paramMap.get("id"),this.cartServices.removeAllProducts(),this.getOrder()}getOrder(){this.orderServices.getOrderById(this.orderId).subscribe({next:c=>{console.log(c),this.confirmedOrder=this.orderServices.initOrderFrom(c)},error:c=>{console.log(c)}})}}f.\u0275fac=function(c){return new(c||f)(r.Y36(g.U),r.Y36(x.r),r.Y36(o.gz))},f.\u0275cmp=r.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[r.jDz],decls:3,vars:2,consts:[[1,"route-container"],[3,"isDisplayed"],[4,"ngIf"],["id","order"],["id","ordered-products",4,"ngFor","ngForOf"],["id","prices"],[2,"text-align","left","padding-left","0"],[2,"text-align","right"],["id","ordered-products"],[3,"orderedProduct"]],template:function(c,i){1&c&&(r.TgZ(0,"div",0),r._UZ(1,"spinner",1),r.YNc(2,b,27,9,"div",2),r.qZA()),2&c&&(r.xp6(1),r.Q6J("isDisplayed",!i.confirmedOrder),r.xp6(1),r.Q6J("ngIf",i.confirmedOrder))},dependencies:[e.O,l.ax,l.O5,u],styles:["#ordered-products[_ngcontent-%COMP%]{margin-top:50px}h1[_ngcontent-%COMP%]{font-size:50px;margin-bottom:50px}#order[_ngcontent-%COMP%]{width:500px;margin-left:auto;margin-right:auto}#prices[_ngcontent-%COMP%]{margin-top:25px;font-size:16px;display:flex;justify-content:space-between}li[_ngcontent-%COMP%]{margin-bottom:5px}ul[_ngcontent-%COMP%]{display:inline-block;list-style-type:none}"]})},1757:(O,y,s)=>{s.d(y,{O:()=>v});var l=s(6895),e=s(4650),r=s(3238),h=s(1281);const u=["determinateSpinner"];function g(n,m){if(1&n&&(e.O4$(),e.TgZ(0,"svg",11),e._UZ(1,"circle",12),e.qZA()),2&n){const t=e.oxw();e.uIk("viewBox",t._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),e.uIk("r",t._circleRadius())}}const x=(0,r.pj)(class{constructor(n){this._elementRef=n}},"primary"),o=new e.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function _(){return{diameter:P}}}),P=100;let f=(()=>{class n extends x{constructor(t,a,d){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=P,this._noopAnimations="NoopAnimations"===a&&!!d&&!d._forceAnimations,d&&(d.color&&(this.color=this.defaultColor=d.color),d.diameter&&(this.diameter=d.diameter),d.strokeWidth&&(this.strokeWidth=d.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,(0,h.su)(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=(0,h.su)(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=(0,h.su)(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.QbO,8),e.Y36(o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,a){if(1&t&&e.Gf(u,5),2&t){let d;e.iGM(d=e.CRH())&&(a._determinateCircle=d.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(t,a){2&t&&(e.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===a.mode?a.value:null)("mode",a.mode),e.Udp("width",a.diameter,"px")("height",a.diameter,"px"),e.ekj("_mat-animation-noopable",a._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===a.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[e.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,a){if(1&t&&(e.YNc(0,g,2,8,"ng-template",null,0,e.W1O),e.TgZ(2,"div",1,2),e.O4$(),e.TgZ(4,"svg",3),e._UZ(5,"circle",4),e.qZA()(),e.kcU(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e.GkF(9,8),e.qZA(),e.TgZ(10,"div",9),e.GkF(11,8),e.qZA(),e.TgZ(12,"div",10),e.GkF(13,8),e.qZA()()()),2&t){const d=e.MAs(1);e.xp6(4),e.uIk("viewBox",a._viewBox()),e.xp6(1),e.Udp("stroke-dasharray",a._strokeCircumference(),"px")("stroke-dashoffset",a._strokeDashOffset(),"px")("stroke-width",a._circleStrokeWidth(),"%"),e.uIk("r",a._circleRadius()),e.xp6(4),e.Q6J("ngTemplateOutlet",d),e.xp6(2),e.Q6J("ngTemplateOutlet",d),e.xp6(2),e.Q6J("ngTemplateOutlet",d)}},dependencies:[l.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,r.BQ]}),n})();function i(n,m){1&n&&e._UZ(0,"mat-spinner")}class v{constructor(){this.isDisplayed=!1}}v.\u0275fac=function(m){return new(m||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["spinner"]],inputs:{isDisplayed:"isDisplayed"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(m,t){1&m&&e.YNc(0,i,1,0,"mat-spinner",0),2&m&&e.Q6J("ngIf",t.isDisplayed)},dependencies:[c,f,l.O5],styles:["mat-spinner[_ngcontent-%COMP%]{position:fixed;top:30vh;left:45vw;z-index:4}"]})},6082:(O,y,s)=>{s.d(y,{o:()=>g});var l=s(1135),e=s(2340),r=s(4650),h=s(529),u=s(6105);class g{constructor(o,_){this.http=o,this.loginServices=_,this._products=new l.X([]),this.products$=this._products.asObservable(),this._pageIndex=new l.X(0),this.pageIndex$=this._pageIndex.asObservable(),this.pageSize=15,this.productsUrl=`${e.N.api.url}/products`,this.pageIndex$.subscribe({next:P=>{this.getProducts()}})}get products(){return this._products.getValue()}set products(o){this._products.next(o)}get pageIndex(){return this._pageIndex.getValue()}set pageIndex(o){this._pageIndex.next(o)}getProducts(){this.http.get(this.productsUrl,{params:{pageSize:this.pageSize,pageIndex:this.pageIndex+1}}).subscribe({next:o=>{o.forEach(_=>{this.updatePhotoUrl(_)}),this.products=o},error:o=>{console.error(o)}})}getProductById(o){return this.http.get(`${this.productsUrl}/${o}`)}updateProduct(o,_={}){return this.http.patch(`${this.productsUrl}/${o}`,_,{headers:this.loginServices.getHeaders()})}updatePhotoUrl(o){o.photoUrl=e.N.googleStorageURL+"/products/"+o.photo_key}}g.\u0275fac=function(o){return new(o||g)(r.LFG(h.eN),r.LFG(u.J))},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}}]);